(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/category/detail/index"],{"12af":function(t,e,n){"use strict";var i={"uni-popup":()=>n.e("components/uni-popup/uni-popup").then(n.bind(null,"4681"))},o=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return i})},1835:function(t,e,n){"use strict";n.r(e);var i=n("6bd2"),o=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,function(){return i[t]})}(u);e["default"]=o.a},"5ded":function(t,e,n){"use strict";(function(t){n("8b34"),n("921b");i(n("66fd"));var e=i(n("7bb7"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},"6bd2":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=s(n("a34a")),u=n("4b71"),c=n("26ba");function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n,i,o,u,c){try{var s=t[u](c),r=s.value}catch(a){return void n(a)}s.done?e(r):Promise.resolve(r).then(i,o)}function a(t){return function(){var e=this,n=arguments;return new Promise(function(i,o){var u=t.apply(e,n);function c(t){r(u,i,o,c,s,"next",t)}function s(t){r(u,i,o,c,s,"throw",t)}c(void 0)})}}var d=function(){return n.e("components/uni-popup/uni-popup").then(n.bind(null,"4681"))},p={components:{uniPopup:d},data:function(){return{productId:"",isKeep:!1,keepUrl:"../../../static/icons/keep.png",swiperList:[],currentSwiper:0,bottomData:[{text:"微信",icon:"https://img-cdn-qiniu.dcloud.net.cn/uni-ui/grid-2.png",name:"wx"},{text:"支付宝",icon:"https://img-cdn-qiniu.dcloud.net.cn/uni-ui/grid-8.png",name:"wx"},{text:"QQ",icon:"https://img-cdn-qiniu.dcloud.net.cn/uni-ui/gird-3.png",name:"qq"},{text:"新浪",icon:"https://img-cdn-qiniu.dcloud.net.cn/uni-ui/grid-1.png",name:"sina"},{text:"百度",icon:"https://img-cdn-qiniu.dcloud.net.cn/uni-ui/grid-7.png",name:"copy"},{text:"其他",icon:"https://img-cdn-qiniu.dcloud.net.cn/uni-ui/grid-5.png",name:"more"}],goodsData:{id:1,name:"商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题商品标题",price:"127.00",number:1,service:[{name:"正品保证",description:"此商品官方保证为正品"},{name:"极速退款",description:"此商品享受退货极速退款服务"},{name:"7天退换",description:"此商品享受7天无理由退换服务"}],spec:["XS","S","M","L","XL","XXL"],comment:{number:102,userface:"../../../static/logo.png",username:"老王",content:"很不错，之前买了很多次了，很好看，能放很久，和图片色差不大，值得购买！"}},selectSpec:null,specClass:"",product:{},skuList:[],skuNubmer:"1",descriptionStr:'<div style="text-align:center;"><img width="100%" src="https://ae01.alicdn.com/kf/HTB1t0fUl_Zmx1VjSZFGq6yx2XXa5.jpg"/><img width="100%" src="https://ae01.alicdn.com/kf/HTB1LzkjThTpK1RjSZFKq6y2wXXaT.jpg"/><img width="100%" src="https://ae01.alicdn.com/kf/HTB18dkiTbvpK1RjSZPiq6zmwXXa8.jpg"/></div>'}},onLoad:function(e){var n=this;t("log",e," at pages\\category\\detail\\index.vue:230"),this.productId=e.productId,this.getDetail();var o=i.getStorageSync("LEJU_KEEP");t("log",o," at pages\\category\\detail\\index.vue:234"),this.isKeep=o.some(function(t){return t.id==n.productId}),t("log",this.productId," at pages\\category\\detail\\index.vue:236")},onShow:function(){},onReady:function(){},methods:{getDetail:function(){var e=a(o.default.mark(function e(){var n;return o.default.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,c.getProductDetail)({productId:this.productId});case 2:n=e.sent,this.product=n.data,this.swiperList=n.data.imgs.split(","),t("log",n," at pages\\category\\detail\\index.vue:250");case 6:case"end":return e.stop()}},e,this)}));function n(){return e.apply(this,arguments)}return n}(),swiperChange:function(t){this.currentSwiper=t.detail.current},openShare:function(){this.$refs.showshare.open()},cancel:function(){this.$refs.showshare.close()},open:function(){this.$refs.popup.open()},close:function(){this.$refs.popup.close()},openChoose:function(){this.$refs.popup1.open(),this.skuList||(this.skuList=0==this.product.skuList.length?this.product.skuList[0]:{}),t("log",this.skuList," at pages\\category\\detail\\index.vue:275")},closeChoose:function(){this.$refs.popup1.close()},toRatings:function(){i.navigateTo({url:"../ratings/ratings"})},handleColors:function(e){this.skuList=this.product.skuList.filter(function(t){return t.id==e.detail.value})[0],t("log",this.skuList," at pages\\category\\detail\\index.vue:288")},btnReduce:function(){this.skuNubmer>1&&this.skuNubmer--},btnAdd:function(){this.skuNubmer<this.skuList.count?this.skuNubmer++:i.showToast({title:"库存只有"+this.skuList.count+"个了!",duration:1e3,icon:"none"})},handleBuy:function(){var e=this;(0,u.checkLogin)(function(){if(t("log","打开购买",e," at pages\\category\\detail\\index.vue:310"),e.skuList.length<1)e.openChoose();else{var n={userId:e.$store.getters.userId,addressId:i.getStorageSync("ADDRESS_USE").id,count:e.skuNubmer,freight:"10",price:e.skuList.price*e.skuNubmer,orderDetailList:[{skuCode:e.skuList.product_id,gname:e.product.gname,coverImg:e.product.cover_img,color_text:e.skuList.color_text,skuId:e.skuList.id,price:e.skuList.price,count:e.skuNubmer}]};e.$store.commit("order/ADD_ORDER_TEMP",n),t("log",n," at pages\\category\\detail\\index.vue:333"),i.navigateTo({url:"../../mine/order/index"})}})},addCarts:function(){var e=this;(0,u.checkLogin)(function(){if(e.skuList.length<1)e.openChoose();else{var n={skuCode:e.skuList.product_id,gname:e.product.gname,coverImg:e.product.cover_img,color_text:e.skuList.color_text,skuId:e.skuList.id,price:e.skuList.price,count:e.skuNubmer,selected:!1},o=i.getStorageSync("leju-buycart");o||(o=[]);var u=o.find(function(t){return t.skuId==n.skuId});t("log",n," at pages\\category\\detail\\index.vue:362"),u?u.count=Number(n.count)+Number(u.count):o.push(n),i.setStorageSync("leju-buycart",o),e.closeChoose(),i.showToast({title:"加入购物车成功",duration:1e3})}})},handleKeep:function(){var t=this;(0,u.checkLogin)(function(){if(t.isKeep=!t.isKeep,t.isKeep){t.keepUrl="../../../static/icons/keep_active.png";var e={gname:t.product.gname,coverImg:t.product.cover_img,price:t.product.price_now,pcode:t.product.pcode,id:t.product.id};t.$store.commit("keep/ADD_KEEP_TEMP",e)}else t.keepUrl="../../../static/icons/keep.png",t.$store.commit("keep/REMOVE_USER_INFO",t.productId)})}}};e.default=p}).call(this,n("0de9")["default"],n("6e42")["default"])},"7bb7":function(t,e,n){"use strict";n.r(e);var i=n("12af"),o=n("1835");for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);n("8e1f");var c,s=n("f0c5"),r=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,"8e3df516",null,!1,i["a"],c);e["default"]=r.exports},"8e1f":function(t,e,n){"use strict";var i=n("e1fc"),o=n.n(i);o.a},e1fc:function(t,e,n){}},[["5ded","common/runtime","common/vendor"]]]);