(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/mine/address/edit/edit"],{"32c0":function(e,t,i){"use strict";var n=i("48e8"),a=i.n(n);a.a},"48e8":function(e,t,i){},8892:function(e,t,i){"use strict";(function(e){i("8b34"),i("921b");n(i("66fd"));var t=n(i("ce8e"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i("6e42")["createPage"])},"88a8":function(e,t,i){"use strict";i.r(t);var n=i("9de8"),a=i.n(n);for(var s in n)"default"!==s&&function(e){i.d(t,e,function(){return n[e]})}(s);t["default"]=a.a},"9de8":function(e,t,i){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i("bcf2");function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{},n=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(e){return Object.getOwnPropertyDescriptor(i,e).enumerable}))),n.forEach(function(t){r(e,t,i[t])})}return e}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var c=function(){return Promise.all([i.e("common/vendor"),i.e("components/mpvue-citypicker/mpvueCityPicker")]).then(i.bind(null,"3ec3"))},d={components:{mpvueCityPicker:c},data:function(){return{editType:"edit",addressId:"",id:"",name:"",tel:"",detailed:"",isDefault:!1,cityPickerValue:[0,0,1],themeColor:"#007AFF",cityStr:"",region:{label:"请点击选择地址",value:[],cityCode:""}}},methods:{onCancel:function(t){e("log",t," at pages\\mine\\address\\edit\\edit.vue:56")},chooseCity:function(){this.$refs.mpvueCityPicker.show()},onConfirm:function(e){this.region=e,this.cityPickerValue=e.value},isDefaultChange:function(e){this.isDefault=e.detail.value},del:function(){var t=this;n.showModal({title:"删除提示",content:"你将删除这个收货地址",success:function(i){i.confirm?(0,a.addressDel)({id:t.id}).then(function(t){e("log",t," at pages\\mine\\address\\edit\\edit.vue:77"),"S"==t.code&&n.navigateBack()}):i.cancel&&e("log","用户点击取消"," at pages\\mine\\address\\edit\\edit.vue:83")}})},save:function(){var t={name:this.name,head:this.name.substr(0,1),tel:this.tel,address:{region:this.region,detailed:this.detailed},isDefault:this.isDefault};if(e("log",t," at pages\\mine\\address\\edit\\edit.vue:90"),"edit"==this.editType&&(t.id=this.id),t.name)if(t.tel)if(t.address.detailed){var i=[];i[0]=t.address.region.cityCode;for(var r=0;r<t.address.region.value.length;r++)i.push(t.address.region.value[r]);var c={userId:this.$store.getters.userId,tag:"家",cityCode:i.join(),cityStr:t.address.region.label,cityBak:t.address.detailed,tel:t.tel,name:t.name,isUse:t.isDefault?"1":"0"},d=null;this.id?(d=a.addressUpdate,c.id=this.id):d=a.addressSave,d(s({},c)).then(function(e){"S"==e.code&&n.navigateBack()})}else n.showToast({title:"请输入收件人详细地址",icon:"none"});else n.showToast({title:"请输入收件人电话号码",icon:"none"});else n.showToast({title:"请输入收件人姓名",icon:"none"})}},onLoad:function(t){var i=this;this.editType=t.type,"edit"==t.type&&n.getStorage({key:"address",success:function(e){i.id=e.data.id,i.name=e.data.name,i.tel=e.data.tel,i.detailed=e.data.cityBak,i.isDefault="1"==e.data.isUse,i.cityPickerValue=e.data.cityCode.split(",").splice(1,3).map(Number),i.cityStr=e.data.cityStr}}),e("log",this.cityPickerValue," at pages\\mine\\address\\edit\\edit.vue:179")},onBackPress:function(){if(this.$refs.mpvueCityPicker.showPicker)return this.$refs.mpvueCityPicker.pickerCancel(),!0},onUnload:function(){this.$refs.mpvueCityPicker.showPicker&&this.$refs.mpvueCityPicker.pickerCancel()}};t.default=d}).call(this,i("0de9")["default"],i("6e42")["default"])},ce8e:function(e,t,i){"use strict";i.r(t);var n=i("e87c"),a=i("88a8");for(var s in a)"default"!==s&&function(e){i.d(t,e,function(){return a[e]})}(s);i("32c0");var r,c=i("f0c5"),d=Object(c["a"])(a["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],r);t["default"]=d.exports},e87c:function(e,t,i){"use strict";var n,a=function(){var e=this,t=e.$createElement;e._self._c},s=[];i.d(t,"b",function(){return a}),i.d(t,"c",function(){return s}),i.d(t,"a",function(){return n})}},[["8892","common/runtime","common/vendor"]]]);